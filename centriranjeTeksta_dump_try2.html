<!DOCTYPE html>
<html lang="hr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Centriranje Teksta</title>
</head>
<body>
    <h1>Centriranje Teksta</h1>
    <label for="maxChars">Unesite maksimalan broj znakova po liniji (m):</label>
    <input type="number" id="maxChars" required><br>

    <label for="lineLength">Unesite dužinu linije (n):</label>
    <input type="number" id="lineLength" required><br>

    <label for="multiLineText">Unesite višelinijski tekst:</label><br>
    <textarea id="multiLineText" rows="10" cols="50"></textarea><br>

    <button onclick="centralAlignText()">Prikaži Poravnati Tekst</button>

    <h2>Poravnati Tekst:</h2>
    <pre id="output"></pre>

    <script>
        function centralAlignText() {
            const m = parseInt(document.getElementById("maxChars").value);
            const n = parseInt(document.getElementById("lineLength").value);
            if (isNaN(m) || isNaN(n) || m > n) {
                document.getElementById("output").innerText = "Unesene vrijednosti nisu ispravne. Provjerite da je m manji ili jednak n.";
                return;
            }
            const text = document.getElementById("multiLineText").value;
            const lines = text.split('\n');

            const alignedText = lines.map(line => formatLine(line.trim(), m, n));
            document.getElementById("output").innerText = alignedText.join('\n');
        }
        function formatLine(line, m, n) {
            const words = line.split(' ');
            let currentLine = '';
            const lines = [];
            for (let word of words) {
                if (currentLine.length + word.length + (currentLine.length > 0 ? 1 : 0) <= m) {
                    if (currentLine.length > 0) {
                        currentLine += ' ';
                    }
                    currentLine += word;
                } else {
                    lines.push(currentLine);
                    currentLine = word;
                }
            }
            if (currentLine.length > 0) {
                lines.push(currentLine);
            }
            return lines.map(line => centerLine(line, n)).join('\n');
        }
        function centerLine(line, totalLength) {
            const spacesNeeded = totalLength - line.length;
            const leftPadding = Math.floor(spacesNeeded / 2);
            const rightPadding = spacesNeeded - leftPadding;

            return ' '.repeat(leftPadding) + line + ' '.repeat(rightPadding);
        }
    </script>
</body>
</html>
